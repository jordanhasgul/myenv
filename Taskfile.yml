version: '3'

vars:
  NAME: 'Jordan Hasgul'
  USER: 'jkhasgul'
  EMAIL: 'jkhasgul@gmail.com'

tasks:

  setup-deps:
    deps: [install-deps]
    cmds:
      - 

  install-deps:
    deps: [install-docker, install-go, install-neovim, install-tmux, install-zsh, install-stow, install-git]

  install-docker:
    deps: [install-brew]
    cmds:
      - brew install --cask docker

  install-go:
    deps: [install-brew]
    cmds:
      - brew install go

  install-neovim:
    deps: [install-brew]
    cmds:
      - brew install neovim

  install-tmux:
    deps: [install-brew]
    cmds:
      - brew install tmux

  install-zsh:
    deps: [install-brew]
    cmds:
      - brew install zsh
      - sudo sh -c "echo $(which zsh) >> /etc/shells"
      - sudo chsh -s $(which zsh) {{.USER}}
      
  install-stow:
    deps: [install-brew]
    cmds:
      - brew install stow

  install-brew:
    cmds:
      - /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
      - echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' >> /home/{{.USER}}/.bashrc
      

   
      